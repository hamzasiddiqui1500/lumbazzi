customElements.get("main-hero")||customElements.define("main-hero",class extends HTMLElement{constructor(){super()}connectedCallback(){this._trackInView=this._trackInView.bind(this),this.elements={content:this.querySelector(".hero__content"),products:this.querySelector(".hero__products"),viewport:this.querySelector(".hero__viewport")},this._track=this,this._pin=this.elements.viewport,this._initScrollPinner(),this._scaleText(),this._play()}_play(){this.setAttribute("play",!0)}_scaleText(){const contentHeight=this.elements.content.offsetHeight,productsHeight=this.elements.products.offsetHeight,headerHeight=parseFloat(getComputedStyle(this).getPropertyValue("--header-height"))*16;if(contentHeight+productsHeight>window.innerHeight-headerHeight){const scale=(window.innerHeight-headerHeight)/(contentHeight+productsHeight);this.style.setProperty("--hero-scale",scale)}}_trackInView(rect){const lengthValue=this.clientHeight,progress=Math.round(-rect.top/lengthValue*1e4)/1e4;this.style.setProperty("--hero-progress",progress);const headerT=.75;progress>=headerT&&this._lastProgress<headerT?document.querySelector(".site-header--home").classList.add("site-header--home-scrolled"):progress<headerT&&this._lastProgress>=headerT&&document.querySelector(".site-header--home").classList.remove("site-header--home-scrolled"),this._lastProgress=progress}_initScrollPinner(){new ResizeObserver(([entry])=>{const newLength=entry.borderBoxSize[0].blockSize;this._pinLength=newLength,this._pinOffset=window.innerHeight/2-newLength/2}).observe(this._pin),window.scrollTracker.trackElementInView(this._track,this._trackInView)}});
//# sourceMappingURL=/cdn/shop/t/27/assets/element-main-hero.js.map?v=134016097966775678621746453147
